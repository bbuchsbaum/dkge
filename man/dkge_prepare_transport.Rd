% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/dkge-transport.R
\name{dkge_prepare_transport}
\alias{dkge_prepare_transport}
\title{Prepare subject-to-medoid transport operators for reuse}
\usage{
dkge_prepare_transport(
  fit,
  centroids = NULL,
  loadings = NULL,
  betas = NULL,
  sizes = NULL,
  mapper = "sinkhorn",
  medoid = 1L,
  ...
)
}
\arguments{
\item{fit}{A `dkge` object.}

\item{centroids}{List of subject centroid matrices. Defaults to the centroids
stored on `fit` or `fit$input`.}

\item{loadings}{Optional list of subject loadings (`P_s x r`). When omitted,
they are recomputed from `fit$Btil` or the supplied `betas`.}

\item{betas}{Optional list of subject betas used to recompute loadings when
`loadings` is `NULL`.}

\item{sizes}{Optional list of cluster masses.}

\item{mapper}{Mapper specification or shorthand passed to
[dkge_mapper_spec()].}

\item{medoid}{Index (1-based) of the reference subject.}

\item{...}{Additional mapper arguments such as `epsilon` or `lambda_spa`.}
}
\value{
A list containing cached transport objects: `operators`,
  `mapper_spec`, `feature_list`, `size_list`, `feature_ref`, `size_ref`,
  `centroids`, and `medoid`.
}
\description{
Computes and caches subject-to-medoid transport matrices so downstream
routines (e.g. bootstraps) can reuse a fixed consensus mapping without
re-solving the transport problem on every call.
}
